<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lâmpada</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="conteiner" id="conteiner">
        <h1>Lâmpada - SENAI - 2020</h1>
        <img src="./img/desligada.jpg" alt="Lâmpada desligada" id="lampada" >
        <button class="interruptor" id="interruptor">Parar</button>
        
        <script src="./lampada.js"></script>
    </div>


    <script>
    "use strict";
        const $lampada = document.getElementById('lampada');

        const ligarLampada = () => $lampada.src = "./img/ligada.jpg";
        const desligarLampada = () => $lampada.src = "./img/desligada.jpg";
        const estadoDaLampada = () => !Boolean($lampada.src.match ('desligada'));

        const ligaDesliga = () => {  
            if (estadoDaLampada()) {
                desligarLampada();
            }else {
                ligarLampada();
            }
        }
        let id;
        const piscar = () => {
            if ( id === undefined){
            id = setInterval ( ligaDesliga, 500);
            }
        }
        const parar = () => id = clearInterval( id );

        $lampada.addEventListener ( 'mouseenter', ligarLampada );
        $lampada.addEventListener ( 'mouseout', desligarLampada );
        $lampada.addEventListener( 'click', piscar);
        document.getElementById('interruptor').addEventListener('click',parar);
    
    </script>
</body>
</html>